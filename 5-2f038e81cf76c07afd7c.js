(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"./.linaria-cache/src/components/home/SearchInput.linaria.css":function(e,t,a){},"./.linaria-cache/src/components/home/SearchResults.linaria.css":function(e,t,a){},"./.linaria-cache/src/components/home/StickerPackPreviewCard.linaria.css":function(e,t,a){},"./src/components/home/Home.tsx":function(e,t,a){"use strict";a.r(t),function(e){var r,s=a("./node_modules/react/index.js"),o=a.n(s),n=a("./src/contexts/StickersContext.tsx"),c=a("./src/hooks/use-query.ts"),l=a("./src/hooks/use-update-url.ts"),i=a("./src/etc/constants.ts"),u=a("./src/components/home/SearchInput.tsx"),d=a("./src/components/home/SearchResults.tsx");(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const f=()=>{const{searchQuery:e,setSearchQuery:t}=o.a.useContext(n.b),a=Object(c.a)(),r=Object(l.a)();return o.a.useEffect(()=>{const e=null==a?void 0:a.SEARCH_QUERY_PARAM;"string"==typeof e&&t(e)},[]),o.a.useEffect(()=>{r({query:{[i.b]:e||void 0}})},[e]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},o.a.createElement("p",{className:"my-4 py-lg-2"},"Welcome to Signal Stickers, the unofficial directory for Signal sticker packs. You can filter packs by title, author, or tags.",o.a.createElement("br",null),"Follow ",o.a.createElement("a",{href:"https://twitter.com/signalstickers",rel:"noreferrer",target:"_blank",title:"Twitter feed"},"@signalstickers")," to stay tuned for new packs!"))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},o.a.createElement(u.a,null))),o.a.createElement(d.a,null))};m(f,"useContext{{searchQuery, setSearchQuery}}\nuseQuery{query}\nuseUpdateUrl{updateUrl}\nuseEffect{}\nuseEffect{}",()=>[c.a,l.a]);const p=f;var b,h;t.default=p,(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(f,"HomeComponent","/home/travis/build/signalstickers/signalstickers/src/components/home/Home.tsx"),b.register(p,"default","/home/travis/build/signalstickers/signalstickers/src/components/home/Home.tsx")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)}.call(this,a("./node_modules/webpack/buildin/harmony-module.js")(e))},"./src/components/home/SearchInput.tsx":function(e,t,a){"use strict";(function(e){var r,s=a("./node_modules/debounce-fn/index.js"),o=a.n(s),n=a("./node_modules/linaria/lib/index.js"),c=a("./node_modules/linaria/react.js"),l=a("./node_modules/react/index.js"),i=a.n(l),u=a("./node_modules/react-octicon/lib/index.js"),d=a.n(u),m=a("./node_modules/react-router-hash-link/lib/index.js"),f=a("./node_modules/use-breakpoint/index.umd.js"),p=a.n(f),b=a("./src/etc/constants.ts"),h=a("./src/contexts/StickersContext.tsx");(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const g=Object(c.styled)("div")({name:"SearchInput",class:"sooxe2f"}),v=Object(c.styled)("div")({name:"SearchHelp",class:"sbfo2dx"}),y=()=>{const{allStickerPacks:e,searcher:t,searchQuery:a,setSearchQuery:r}=i.a.useContext(h.b),[s,c]=i.a.useState(""),l=i.a.useRef(null),{breakpoint:u}=p()(b.a,"xl"),f=["cute","privacy","meme","for children"],k=o()(e=>{r(e)},{wait:250}),y=i.a.useCallback(e=>{const{value:t}=e.target;c(t)},[c]),S=i.a.useCallback(e=>{t&&e.currentTarget.textContent&&r(t.buildQueryString({attributeQueries:[{tag:e.currentTarget.textContent}]}))},[t,r]),x=i.a.useCallback(()=>{l.current&&(l.current.style.opacity="1",l.current.style.pointerEvents="initial")},[l]),H=i.a.useCallback(()=>{l.current&&(l.current.style.opacity="0",setTimeout(()=>{l.current&&(l.current.style.pointerEvents="none")},100))},[l]),L=i.a.useCallback(e=>{e.preventDefault(),c(""),r("")},[c,r]);i.a.useEffect(()=>{a&&c(a)},[a]),i.a.useEffect(()=>(k.cancel(),k(s),()=>{k.cancel()}),[k,s]);const E=i.a.useMemo(()=>f.map(e=>i.a.createElement("button",{type:"button",key:e,className:"badge badge-signal",onClick:S},e)),[f]),C=e?`Search ${e.length} sticker packs...`:"";return i.a.createElement(g,{className:"form-group mb-4 mb-md-5"},i.a.createElement("div",{className:Object(n.cx)("input-group",["md","lg","xl"].includes(u)&&"input-group-lg")},i.a.createElement("div",{className:"input-group-prepend"},i.a.createElement("span",{className:"input-group-text"},i.a.createElement(d.a,{name:"search"}))),i.a.createElement("input",{type:"text",key:"search",className:"form-control",onBlur:H,onChange:y,onFocus:x,value:s,placeholder:C,title:"Search","aria-label":"search",autoComplete:"false",spellCheck:"false"}),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("button",{type:"button",className:"input-group-text btn btn-light btn-sm",onClick:L,title:"Clear Search Results"},"Â ",i.a.createElement(d.a,{name:"x",className:"text-danger"}))),i.a.createElement(v,{ref:l},i.a.createElement(m.HashLink,{to:"/about#searching",title:"Search Help"},i.a.createElement(d.a,{name:"info",className:"text-muted"})))),i.a.createElement("small",null,"Lost? Why not start with these tags?")," ",E)};k(y,"useContext{{\n    allStickerPacks,\n    searcher,\n    searchQuery,\n    setSearchQuery\n  }}\nuseState{[searchQueryInputValue, setSearchQueryInputValue]('')}\nuseRef{searchHelpRef}\nuseBreakpoint{{\n    breakpoint\n  }}\nuseCallback{onSearchQueryInputChange}\nuseCallback{onTagClick}\nuseCallback{handleInputFocus}\nuseCallback{handleInputBlur}\nuseCallback{clearSearchResults}\nuseEffect{}\nuseEffect{}\nuseMemo{tagsFragment}",()=>[p.a]);const S=y;var x,H;t.a=S,a("./.linaria-cache/src/components/home/SearchInput.linaria.css"),(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(x.register(g,"SearchInput","/home/travis/build/signalstickers/signalstickers/src/components/home/SearchInput.tsx"),x.register(v,"SearchHelp","/home/travis/build/signalstickers/signalstickers/src/components/home/SearchInput.tsx"),x.register(y,"SearchInputComponent","/home/travis/build/signalstickers/signalstickers/src/components/home/SearchInput.tsx"),x.register(S,"default","/home/travis/build/signalstickers/signalstickers/src/components/home/SearchInput.tsx")),(H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&H(e)}).call(this,a("./node_modules/webpack/buildin/harmony-module.js")(e))},"./src/components/home/SearchResults.tsx":function(e,t,a){"use strict";(function(e){var r,s=a("./node_modules/linaria/react.js"),o=a("./node_modules/react/index.js"),n=a.n(o),c=a("./node_modules/react-router-dom/esm/react-router-dom.js"),l=a("./node_modules/react-waypoint/es/index.js"),i=a("./node_modules/ramda/es/take.js"),u=a("./src/contexts/StickersContext.tsx"),d=a("./src/components/home/StickerPackPreviewCard.tsx");(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const f=Object(s.styled)("div")({name:"StickerPackList",class:"soapbay"}),p=()=>{const{searchResults:e}=Object(o.useContext)(u.b),[t,a]=Object(o.useState)(0),[r,s]=Object(o.useState)([]),m=n.a.useCallback(()=>{if(r.length>=e.length)return;const o=t+64;a(o),s(i.a(o,e))},[t,e,r]);return n.a.useLayoutEffect(()=>{a(0),s([]),m()},[e]),n.a.createElement(f,{className:"row"},r.map(e=>n.a.createElement(c.Link,{className:"col-6 col-md-4 col-lg-3 mb-4",key:e.item.meta.id,to:`/pack/${e.item.meta.id}`},n.a.createElement(d.a,{stickerPack:e.item}))),n.a.createElement(l.a,{key:t,onEnter:m,bottomOffset:"-500px"}))};m(p,"useContext{{\n    searchResults\n  }}\nuseState{[cursor, setCursor](0)}\nuseState{[renderedSearchResults, setRenderedSearchResults]([])}\nuseCallback{loadMore}\nuseLayoutEffect{}");const b=p;var h,k;t.a=b,a("./.linaria-cache/src/components/home/SearchResults.linaria.css"),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(f,"StickerPackList","/home/travis/build/signalstickers/signalstickers/src/components/home/SearchResults.tsx"),h.register(64,"PAGE_SIZE","/home/travis/build/signalstickers/signalstickers/src/components/home/SearchResults.tsx"),h.register(p,"StickerPackListComponent","/home/travis/build/signalstickers/signalstickers/src/components/home/SearchResults.tsx"),h.register(b,"default","/home/travis/build/signalstickers/signalstickers/src/components/home/SearchResults.tsx")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)}).call(this,a("./node_modules/webpack/buildin/harmony-module.js")(e))},"./src/components/home/StickerPackPreviewCard.tsx":function(e,t,a){"use strict";(function(e){var r,s=a("./node_modules/react/index.js"),o=a.n(s),n=a("./node_modules/linaria/react.js"),c=a("./node_modules/use-async-effect/index.js"),l=a.n(c),i=a("./src/lib/stickers.ts");(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const d=Object(n.styled)("div")({name:"StickerPackPreviewCard",class:"s6bnemm",vars:{"s6bnemm-0":[e=>e.original?"block":"none"],"s6bnemm-1":[e=>e.nsfw?"blur(4px)":"none"]}}),m=e=>{const[t,a]=Object(s.useState)(),{meta:r,manifest:n}=e.stickerPack;l()(async()=>{try{if(void 0!==r.id){const e=await Object(i.a)(r.id,r.key,n.cover.id);a(e)}}catch(e){console.error(`[StickerPackPreviewCard::Effect::GetCover] ${e.message}`)}},[r.id,r.key,n.cover.id]);const c=`${n.title}${r.nsfw?" (NSFW)":""}`;return o.a.createElement(d,{className:"card",original:r.original,nsfw:r.nsfw,"aria-label":c},t?o.a.createElement("img",{className:"card-img-top",src:t,alt:"cover"}):o.a.createElement("div",{className:"card-img-top"}),o.a.createElement("div",{className:"card-header"},c))};u(m,"useState{[cover, setCover]}\nuseAsyncEffect{}",()=>[l.a]);const f=m;var p,b;t.a=f,a("./.linaria-cache/src/components/home/StickerPackPreviewCard.linaria.css"),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(d,"StickerPackPreviewCard","/home/travis/build/signalstickers/signalstickers/src/components/home/StickerPackPreviewCard.tsx"),p.register(m,"StickerPackPreviewCardComponent","/home/travis/build/signalstickers/signalstickers/src/components/home/StickerPackPreviewCard.tsx"),p.register(f,"default","/home/travis/build/signalstickers/signalstickers/src/components/home/StickerPackPreviewCard.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)}).call(this,a("./node_modules/webpack/buildin/harmony-module.js")(e))},"./src/hooks/use-query.ts":function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return i}));var r,s,o,n=a("./node_modules/query-string/index.js"),c=a.n(n),l=a("./node_modules/react-router/esm/react-router.js");function i(){return c.a.parse(Object(l.l)().search)}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(i,"useLocation{}",()=>[l.l]),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(i,"useQuery","/home/travis/build/signalstickers/signalstickers/src/hooks/use-query.ts"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,a("./node_modules/webpack/buildin/harmony-module.js")(e))},"./src/hooks/use-update-url.ts":function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return u}));var r,s,o,n=a("./node_modules/query-string/index.js"),c=a.n(n),l=a("./node_modules/ramda/es/mergeDeepRight.js"),i=a("./node_modules/react-router/esm/react-router.js");function u(){const e=Object(i.k)();return t=>{const a=c.a.parseUrl(e.location.pathname),r=c.a.stringifyUrl(l.a(a,t));e.replace(r)}}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(u,"useHistory{history}",()=>[i.k]),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(u,"useUpdateUrl","/home/travis/build/signalstickers/signalstickers/src/hooks/use-update-url.ts"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,a("./node_modules/webpack/buildin/harmony-module.js")(e))}}]);
//# sourceMappingURL=5-2f038e81cf76c07afd7c.js.map