!function(e){function t(t){for(var a,s,i=t[0],l=t[1],c=t[2],d=0,b=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&b.push(o[s][0]),o[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(u&&u(t);b.length;)b.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,s=1;s<r.length;s++){var l=r[s];0!==o[l]&&(a=!1)}a&&(n.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},s={0:0},o={0:0},n=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[];s[e]?t.push(s[e]):0!==s[e]&&{4:1,5:1,7:1}[e]&&t.push(s[e]=new Promise((function(t,r){for(var a=e+".styles-"+{2:"31d6cfe0d16ae931b73c",3:"31d6cfe0d16ae931b73c",4:"bfafbfa9b81840bea1d2",5:"9c9f43a67611b81b162a",6:"31d6cfe0d16ae931b73c",7:"b184920d72a8ede5f69a",8:"31d6cfe0d16ae931b73c"}[e]+".css",o=i.p+a,n=document.getElementsByTagName("link"),l=0;l<n.length;l++){var c=(u=n[l]).getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===a||c===o))return t()}var d=document.getElementsByTagName("style");for(l=0;l<d.length;l++){var u;if((c=(u=d[l]).getAttribute("data-href"))===a||c===o)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var a=t&&t.target&&t.target.src||o,n=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");n.code="CSS_CHUNK_LOAD_FAILED",n.request=a,delete s[e],b.parentNode.removeChild(b),r(n)},b.href=o,document.getElementsByTagName("head")[0].appendChild(b)})).then((function(){s[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((function(t,a){r=o[e]=[t,a]}));t.push(r[2]=a);var n,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=function(e){return i.p+""+({}[e]||e)+"-"+{2:"044af5eb1688be1d1aed",3:"fd5ec865446ef1ec301f",4:"73212d95bddcfaad203b",5:"2f038e81cf76c07afd7c",6:"c299174072594acf50d0",7:"578c2b3476ebcb980060",8:"1400c16fede891caf998"}[e]+".js"}(e);var c=new Error;n=function(t){l.onerror=l.onload=null,clearTimeout(d);var r=o[e];if(0!==r){if(r){var a=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",c.name="ChunkLoadError",c.type=a,c.request=s,r[1](c)}o[e]=void 0}};var d=setTimeout((function(){n({type:"timeout",target:l})}),12e4);l.onerror=l.onload=n,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var u=c;n.push([0,1]),r()}({"./.linaria-cache/src/components/layout/Navbar.linaria.css":function(e,t,r){},"./.linaria-cache/src/components/layout/SuspenseFallback.linaria.css":function(e,t,r){},"./src/assets/favicon.png":function(e,t,r){"use strict";t.a=r.p+"assets/favicon.8235f21104266b1e0f2a3c5630eca0d8.png"},"./src/components/App.tsx":function(e,t,r){"use strict";(function(e){var a,s=r("./node_modules/react-hot-loader/root.js"),o=r("./node_modules/react/index.js"),n=r.n(o),i=r("./node_modules/react-router-dom/esm/react-router-dom.js"),l=r("./node_modules/react-router/esm/react-router.js"),c=r("./src/contexts/StickersContext.tsx"),d=r("./src/components/layout/Navbar.tsx"),u=r("./src/components/layout/SuspenseFallback.tsx");(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const b=n.a.lazy(async()=>r.e(8).then(r.bind(null,"./src/components/about/About.tsx"))),m=n.a.lazy(async()=>Promise.all([r.e(2),r.e(7)]).then(r.bind(null,"./src/components/contribute/Contribute.tsx"))),f=n.a.lazy(async()=>Promise.all([r.e(6),r.e(5)]).then(r.bind(null,"./src/components/home/Home.tsx"))),p=n.a.lazy(async()=>Promise.all([r.e(3),r.e(4)]).then(r.bind(null,"./src/components/pack/StickerPackDetail.tsx"))),g=()=>n.a.createElement(n.a.StrictMode,null,n.a.createElement(i.BrowserRouter,null,n.a.createElement(c.a,null,n.a.createElement(d.a,null),n.a.createElement("div",{className:"container d-flex flex-grow-1 flex-column"},n.a.createElement(o.Suspense,{fallback:n.a.createElement(u.a,null)},n.a.createElement(l.g,null,n.a.createElement(l.d,{exact:!0,path:"/"},n.a.createElement(f,null)),n.a.createElement(l.d,{path:"/pack/:packId"},n.a.createElement(p,null)),n.a.createElement(l.d,{path:"/contribute"},n.a.createElement(m,null)),n.a.createElement(l.d,{path:"/about"},n.a.createElement(b,null)))))))),h=Object(s.hot)(g);var v,k;t.a=h,(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(b,"About","/home/travis/build/signalstickers/signalstickers/src/components/App.tsx"),v.register(m,"Contribute","/home/travis/build/signalstickers/signalstickers/src/components/App.tsx"),v.register(f,"Home","/home/travis/build/signalstickers/signalstickers/src/components/App.tsx"),v.register(p,"Pack","/home/travis/build/signalstickers/signalstickers/src/components/App.tsx"),v.register(g,"App","/home/travis/build/signalstickers/signalstickers/src/components/App.tsx"),v.register(h,"default","/home/travis/build/signalstickers/signalstickers/src/components/App.tsx")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)}).call(this,r("./node_modules/webpack/buildin/harmony-module.js")(e))},"./src/components/layout/Navbar.tsx":function(e,t,r){"use strict";(function(e){var a,s=r("./node_modules/react/index.js"),o=r.n(s),n=r("./node_modules/react-router-dom/esm/react-router-dom.js"),i=r("./node_modules/linaria/react.js"),l=r("./node_modules/react-octicon/lib/index.js"),c=r.n(l),d=r("./src/assets/favicon.png");(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const u=Object(i.styled)("nav")({name:"StyledNav",class:"s1l3u8z6"}),b=()=>o.a.createElement(u,{className:"navbar navbar-expand-lg navbar-dark"},o.a.createElement("div",{className:"container"},o.a.createElement(n.Link,{className:"navbar-brand",to:"/"},o.a.createElement("img",{src:d.a,alt:"Signal Logo"})," Signal Stickers"),o.a.createElement("button",{type:"button",className:"navbar-toggler","data-toggle":"collapse","data-target":"#navbar-toggle","aria-controls":"navbar-toggle","aria-expanded":"false","aria-label":"Toggle Navigation"},o.a.createElement(c.a,{name:"grabber"})),o.a.createElement("div",{id:"navbar-toggle",className:"collapse navbar-collapse"},o.a.createElement("ul",{className:"navbar-nav ml-auto mt-2 mt-lg-0"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(n.Link,{to:"/contribute",className:"nav-link",title:"Contribute"},"Contribute")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(n.Link,{to:"/about",className:"nav-link",title:"About"},"About")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link",href:"https://twitter.com/signalstickers",rel:"noreferrer",target:"_blank",title:"Twitter feed"},"Twitter ",o.a.createElement(c.a,{name:"link-external"}))))))),m=b;var f,p;t.a=m,r("./.linaria-cache/src/components/layout/Navbar.linaria.css"),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(u,"StyledNav","/home/travis/build/signalstickers/signalstickers/src/components/layout/Navbar.tsx"),f.register(b,"NavbarComponent","/home/travis/build/signalstickers/signalstickers/src/components/layout/Navbar.tsx"),f.register(m,"default","/home/travis/build/signalstickers/signalstickers/src/components/layout/Navbar.tsx")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,r("./node_modules/webpack/buildin/harmony-module.js")(e))},"./src/components/layout/SuspenseFallback.tsx":function(e,t,r){"use strict";(function(e){var a,s=r("./node_modules/react/index.js"),o=r.n(s),n=r("./node_modules/linaria/react.js");(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const l=Object(n.styled)("div")({name:"Spinner",class:"slpzcbs"}),c=()=>{const[e,t]=Object(s.useState)(!1);return Object(s.useEffect)(()=>{const e=setTimeout(()=>{t(!0)},2e3);return()=>{clearTimeout(e)}},[]),o.a.createElement("div",{className:"d-flex align-items-center justify-content-center flex-grow-1"},e&&o.a.createElement(l,{className:"spinner-border",role:"status"},o.a.createElement("span",{className:"sr-only"},"Loading...")))};i(c,"useState{[showSpinner, setShowSpinner](false)}\nuseEffect{}");const d=c;var u,b;t.a=d,r("./.linaria-cache/src/components/layout/SuspenseFallback.linaria.css"),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(l,"Spinner","/home/travis/build/signalstickers/signalstickers/src/components/layout/SuspenseFallback.tsx"),u.register(c,"SuspenseFallbackComponent","/home/travis/build/signalstickers/signalstickers/src/components/layout/SuspenseFallback.tsx"),u.register(d,"default","/home/travis/build/signalstickers/signalstickers/src/components/layout/SuspenseFallback.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)}).call(this,r("./node_modules/webpack/buildin/harmony-module.js")(e))},"./src/contexts/StickersContext.tsx":function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return m}));var a,s=r("./node_modules/ramda/es/map.js"),o=r("./node_modules/react/index.js"),n=r.n(o),i=r("./node_modules/use-async-effect/index.js"),l=r.n(i),c=r("./src/lib/stickers.ts"),d=r("./src/lib/search/index.ts");(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};const b=Object(o.createContext)({}),m=e=>{const[t,r]=n.a.useState(),[a,o]=n.a.useState(),[i,u]=n.a.useState(""),[m,f]=n.a.useState([]);return l()(async()=>{const e=await Object(c.d)();r(e),o(Object(d.a)({collection:e,identity:e=>e.meta.id,keys:{title:["manifest","title"],author:["manifest","author"],tag:["meta","tags"],nsfw:["meta","nsfw"],original:["meta","original"]}}))},[]),n.a.useEffect(()=>{t&&a&&(0!==i.length?f(a.search(i)):f(s.a(e=>({item:e}),t)))},[t,a,i]),n.a.createElement(b.Provider,{value:{allStickerPacks:t,searcher:a,searchQuery:i,searchResults:m,setSearchQuery:u}},e.children)};u(m,"useState{[allStickerPacks, setAllStickerPacks]}\nuseState{[searcher, setSearcher]}\nuseState{[searchQuery, setSearchQuery]('')}\nuseState{[searchResults, setSearchResults]([])}\nuseAsyncEffect{}\nuseEffect{}",()=>[l.a]);const f=b;var p,g;t.b=f,(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(b,"Context","/home/travis/build/signalstickers/signalstickers/src/contexts/StickersContext.tsx"),p.register(m,"Provider","/home/travis/build/signalstickers/signalstickers/src/contexts/StickersContext.tsx"),p.register(f,"default","/home/travis/build/signalstickers/signalstickers/src/contexts/StickersContext.tsx")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)}).call(this,r("./node_modules/webpack/buildin/harmony-module.js")(e))},"./src/etc/constants.ts":function(e,t,r){"use strict";(function(e){var a;r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return o})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const s={xs:0,sm:576,md:768,lg:992,xl:1200},o="s";var n,i;(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(s,"BOOTSTRAP_BREAKPOINTS","/home/travis/build/signalstickers/signalstickers/src/etc/constants.ts"),n.register(70,"NAVBAR_HEIGHT","/home/travis/build/signalstickers/signalstickers/src/etc/constants.ts"),n.register(o,"SEARCH_QUERY_PARAM","/home/travis/build/signalstickers/signalstickers/src/etc/constants.ts")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,r("./node_modules/webpack/buildin/harmony-module.js")(e))},"./src/index.css":function(e,t,r){},"./src/index.tsx":function(e,t,r){"use strict";r.r(t);var a=r("./node_modules/react/index.js"),s=r.n(a),o=r("./node_modules/react-dom/index.js"),n=r.n(o),i=r("./src/components/App.tsx"),l=r("./src/lib/utils.ts");r("./src/index.css"),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;Object(l.a)(),Object(l.b)(),n.a.render(s.a.createElement(i.a,null),document.querySelector("#root"))},"./src/lib/convert-image.ts":function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return p}));var a,s=r("./node_modules/p-queue/dist/index.js"),o=r.n(s),n=r("./node_modules/p-wait-for/index.js"),i=r.n(n),l=r("./node_modules/webp-hero/dist/index.js"),c=r("./node_modules/webp-hero/libwebp/dist/webp.js");(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const d=new c.a;d.Module.doNotCaptureKeyboard=!0;const u=new l.a({webp:d,webpSupport:Object(l.c)(),detectWebpImage:l.b}),b=Object(l.c)(),m=new o.a({concurrency:1});async function f(){return b}async function p(e){if(await b){return`data:image/webp;base64,${btoa(String.fromCharCode.apply(void 0,[...e]))}`}return m.add(async()=>{try{return await i()(()=>!1===u.busy),await u.decode(e)}catch(e){throw console.error(`[convertImage] Image conversion failed: ${e.message}`),e}})}var g,h;(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(d,"webp","/home/travis/build/signalstickers/signalstickers/src/lib/convert-image.ts"),g.register(u,"webpConverter","/home/travis/build/signalstickers/signalstickers/src/lib/convert-image.ts"),g.register(b,"hasWebpSupportPromise","/home/travis/build/signalstickers/signalstickers/src/lib/convert-image.ts"),g.register(m,"imageConversionQueue","/home/travis/build/signalstickers/signalstickers/src/lib/convert-image.ts"),g.register(f,"hasWebpSupport","/home/travis/build/signalstickers/signalstickers/src/lib/convert-image.ts"),g.register(p,"convertImage","/home/travis/build/signalstickers/signalstickers/src/lib/convert-image.ts")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)}).call(this,r("./node_modules/webpack/buildin/harmony-module.js")(e))},"./src/lib/error.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return ErrorWithCode}));var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/defineProperty.js"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},reactHotLoader,leaveModule;class ErrorWithCode extends Error{constructor(e,t){super(t),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this,"code",void 0),this.code=null!=e?e:"UNKNOWN"}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(ErrorWithCode,"from",(e,t)=>{const r=new ErrorWithCode(e,t.message);return r.stack=t.stack,r}),reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(ErrorWithCode,"ErrorWithCode","/home/travis/build/signalstickers/signalstickers/src/lib/error.ts"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("./node_modules/webpack/buildin/harmony-module.js")(module))},"./src/lib/search/constants.ts":function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return c})),r.d(t,"c",(function(){return d})),r.d(t,"b",(function(){return u})),r.d(t,"d",(function(){return b})),r.d(t,"e",(function(){return m}));var a,s=r("./node_modules/@babel/runtime/helpers/inherits.js"),o=r.n(s),n=(r("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),r("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),r("./node_modules/@babel/runtime/helpers/wrapNativeSuper.js")),i=r.n(n);function l(e,t){l=function(e,t){return new n(e,void 0,t)};var r=i()(RegExp),a=RegExp.prototype,s=new WeakMap;function n(e,t,a){var o=r.call(this,e,t);return s.set(o,a||s.get(e)),o}function c(e,t){var r=s.get(t);return Object.keys(r).reduce((function(t,a){return t[a]=e[r[a]],t}),Object.create(null))}return o()(n,r),n.prototype.exec=function(e){var t=a.exec.call(this,e);return t&&(t.groups=c(t,this)),t},n.prototype[Symbol.replace]=function(e,t){if("string"==typeof t){var r=s.get(this);return a[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+r[t]})))}if("function"==typeof t){var o=this;return a[Symbol.replace].call(this,e,(function(){var e=[];return e.push.apply(e,arguments),"object"!=typeof e[e.length-1]&&e.push(c(e,o)),t.apply(this,e)}))}return a[Symbol.replace].call(this,e,t)},l.apply(this,arguments)}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const c={includeScore:!0,ignoreLocation:!0,minMatchCharLength:2,shouldSort:!0,threshold:0},d=.05,u=Symbol("GENERAL"),b=l(/([\0-\x08\x0E-\x1F!#-9;-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uFEFE\uFF00-\uFFFF]+):"([\0-!#-9;-\uFFFF]+)"/g,{attribute:1,query:2}),m=l(/([\0-\x08\x0E-\x1F!#-9;-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uFEFE\uFF00-\uFFFF]+):([\0-\x08\x0E-\x1F!#-9;-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uFEFE\uFF00-\uFFFF]+)/g,{attribute:1,query:2});var f,p;(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(c,"BASE_CONFIG","/home/travis/build/signalstickers/signalstickers/src/lib/search/constants.ts"),f.register(d,"MAX_SCORE","/home/travis/build/signalstickers/signalstickers/src/lib/search/constants.ts"),f.register(u,"GENERAL_SEARCHER","/home/travis/build/signalstickers/signalstickers/src/lib/search/constants.ts"),f.register(b,"QUOTED_EXPRESSION_PATTERN","/home/travis/build/signalstickers/signalstickers/src/lib/search/constants.ts"),f.register(m,"UNQUOTED_EXPRESSION_PATTERN","/home/travis/build/signalstickers/signalstickers/src/lib/search/constants.ts")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,r("./node_modules/webpack/buildin/harmony-module.js")(e))},"./src/lib/search/index.ts":function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return H}));var a,s=r("./node_modules/fuse.js/dist/fuse.esm.js"),o=r("./node_modules/ramda/es/path.js"),n=r("./node_modules/ramda/es/split.js"),i=r("./node_modules/ramda/es/type.js"),l=r("./node_modules/ramda/es/compose.js"),c=r("./node_modules/ramda/es/filter.js"),d=r("./node_modules/ramda/es/gte.js"),u=r("./node_modules/ramda/es/propOr.js"),b=r("./node_modules/ramda/es/uniqBy.js"),m=r("./node_modules/ramda/es/forEach.js"),f=r("./node_modules/ramda/es/toPairs.js"),p=r("./node_modules/ramda/es/values.js"),g=r("./node_modules/ramda/es/forEachObjIndexed.js"),h=r("./node_modules/ramda/es/join.js"),v=r("./node_modules/ramda/es/prepend.js"),k=r("./node_modules/ramda/es/memoizeWith.js"),y=r("./node_modules/ramda/es/identity.js"),_=r("./node_modules/ramda/es/innerJoin.js"),E=r("./src/lib/search/constants.ts");(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var L,x;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function H(e){const t=new Map,r=(e,t)=>{const r=o.a(Array.isArray(t)?t:n.a(".",t),e),a=i.a(r);switch(a){case"String":return String(r);case"Array":return r;case"Boolean":case"Number":return String(r);case"Null":case"Undefined":return"false";default:throw new Error(`[Search::getFn] Unable to parse value of type "${a}" at path "${t}".`)}},a=e=>{let r=e;const a=[];return m.a(e=>{0!==r.length&&m.a(e=>{if(!e.groups)return;const s=e.groups.attribute.trim(),o=e.groups.query.trim();t.has(s)&&(r=r.replace(e[0],"").trim(),a.push({[s]:o}))},[...r.matchAll(e)])},[E.e,E.d]),{query:r.trim(),attributeQueries:a}},L=k.a(y.a,r=>{let s=[];const{query:o,attributeQueries:n}=a(r);if(m.a(g.a((r,a)=>{if(!r)return;const o=t.get(a);if(!o)return;const n=o.search(r);s=0===s.length?n:_.a((t,r)=>e.identity(t.item)===e.identity(r.item),s,n)}),null!=n?n:[]),o){const r=t.get(E.b);if(!r)throw new Error("[Search] Unable to find the generic searcher.");{const t=r.search(o);s=0===s.length?t:_.a((t,r)=>e.identity(t.item)===e.identity(r.item),s,t)}}return(t=>l.a(c.a(l.a(d.a(E.c),u.a(void 0,"score"))),b.a(t=>e.identity(t.item)))(t))(s)});var x,H;return x=e.collection,m.a(([e,a])=>{t.set(e,new s.a(x,{...E.a,getFn:r,keys:[a]}))},f.a(null!==(H=e.keys)&&void 0!==H?H:[])),t.set(E.b,new s.a(x,{...E.a,getFn:r,keys:p.a(e.keys)})),{search:L,parseQueryString:a,buildQueryString:e=>{var r;const a=[];return m.a(g.a((e,r)=>{if(!t.has(r))throw new Error(`[Search::buildQueryString] Unknown attribute: "${r}".`);const s=e.split(/\s+/g).length>1?`"${e}"`:e;a.push(`${r}:${s}`)}),null!==(r=e.attributeQueries)&&void 0!==r?r:[]),h.a(" ",v.a(e.query,a)).trim()}}}(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&L.register(H,"SearchFactory","/home/travis/build/signalstickers/signalstickers/src/lib/search/index.ts"),(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&x(e)}).call(this,r("./node_modules/webpack/buildin/harmony-module.js")(e))},"./src/lib/stickers.ts":function(e,t,r){"use strict";(function(e){r.d(t,"d",(function(){return k})),r.d(t,"c",(function(){return y})),r.d(t,"a",(function(){return _}));var a,s=r("./node_modules/axios/index.js"),o=r.n(s),n=r("./node_modules/localforage/dist/localforage.js"),i=r.n(n),l=r("./node_modules/ramda/es/find.js"),c=r("./node_modules/ramda/es/test.js"),d=r("./node_modules/ramda/es/prop.js"),u=r("./node_modules/ramda/es/pathEq.js"),b=r("./src/lib/convert-image.ts"),m=r("./src/lib/error.ts"),f=r("./node_modules/@signalstickers/stickers-client/dist/browser.js");r.d(t,"b",(function(){return f.getEmojiForSticker})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;let p;const g=new Map,h=i.a.createInstance({name:"Signal Stickers",storeName:"Image Cache"});function v(e){const t=[/the quota has been exceeded/gi];return!!(null==e?void 0:e.message)&&Boolean(l.a(t=>c.a(t,e.message),t))}async function k(){return p||(p=o.a.request({method:"GET",url:"stickerData.json"}).then(d.a("data"))),p}async function y(e,t){const r=t?`${e}-${t}`:e;try{if(!g.has(r)){const a=await k(),s=l.a(u.a(["meta","id"],e),a),o=s?s.meta:{id:e,key:t},n=null!=t?t:o.key;if(!n)throw new m.a("NO_KEY_PROVIDED",`No key provided for unlisted pack: ${e}.`);const i={meta:o,manifest:await Object(f.getStickerPackManifest)(e,n)};g.set(r,i)}return g.get(r)}catch(e){if(e.isAxiosError&&403===e.response.status)throw new m.a("MANIFEST_DECRYPT",`[getStickerPack] ${e.stack}`);throw new m.a(e.code,`[getStickerPack] ${e.stack}`)}}async function _(e,t,r){let a="";try{const s=`${e}-${r}`;if(!await h.getItem(s)){const o=await Object(f.getStickerInPack)(e,t,r);return a=await Object(b.a)(o),await h.setItem(s,a),a}return await h.getItem(s)}catch(e){if(!v(e))throw new Error(`[getConvertedStickerInPack] Error getting sticker: ${e.message}`)}return a}var E,L;(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(E.register(p,"stickerPackDirectoryPromise","/home/travis/build/signalstickers/signalstickers/src/lib/stickers.ts"),E.register(g,"stickerPackCache","/home/travis/build/signalstickers/signalstickers/src/lib/stickers.ts"),E.register(h,"stickerImageCache","/home/travis/build/signalstickers/signalstickers/src/lib/stickers.ts"),E.register(v,"isStorageUnavailableError","/home/travis/build/signalstickers/signalstickers/src/lib/stickers.ts"),E.register(k,"getStickerPackDirectory","/home/travis/build/signalstickers/signalstickers/src/lib/stickers.ts"),E.register(y,"getStickerPack","/home/travis/build/signalstickers/signalstickers/src/lib/stickers.ts"),E.register(_,"getConvertedStickerInPack","/home/travis/build/signalstickers/signalstickers/src/lib/stickers.ts")),(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&L(e)}).call(this,r("./node_modules/webpack/buildin/harmony-module.js")(e))},"./src/lib/utils.ts":function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return c}));r("./node_modules/bytes/index.js");var a,s=r("./src/etc/constants.ts");(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var o,n;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;async function i(){}function l(e,t="min"){const r=s.a[e];if(!r)throw new Error(`Invalid breakpoint: ${e}`);return`(${t}-width: ${"min"===t?r:r-1}px)`}function c(){try{navigator.sendBeacon("https://ping.signalstickers.com/ping","")}catch(e){console.log(`${e}. No worries, it's okay!`)}}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(o.register(i,"printStorageUsage","/home/travis/build/signalstickers/signalstickers/src/lib/utils.ts"),o.register(l,"bp","/home/travis/build/signalstickers/signalstickers/src/lib/utils.ts"),o.register(c,"sendBeacon","/home/travis/build/signalstickers/signalstickers/src/lib/utils.ts")),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)}).call(this,r("./node_modules/webpack/buildin/harmony-module.js")(e))},0:function(e,t,r){r("./node_modules/core-js/stable/index.js"),r("./node_modules/regenerator-runtime/runtime.js"),r("./node_modules/react-hot-loader/patch.js"),e.exports=r("./src/index.tsx")}});
//# sourceMappingURL=app-9d46ff048c2dc0251ab5.js.map